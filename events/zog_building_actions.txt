namespace = zog_building_events

################################################
### Buildings & Starport modules yearly event
################################################

event = {
    id = zog_building_events.0
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        every_country = {
            # Planet building counters
            set_variable = {
                which = "planet_building_hydroponics_farm_built"
                value = 0
            }
            set_variable = {
                which = "planet_building_mining_network_built"
                value = 0
            }
            set_variable = {
                which = "planet_building_mineral_processing_plant_built"
                value = 0
            }
            set_variable = {
                which = "planet_building_power_plant_built"
                value = 0
            }
            set_variable = {
                which = "planet_building_power_hub_built"
                value = 0
            }

            # Starbase module counters
            set_variable = {
                which = "starbase_module_built"
                value = 0
            }
            set_variable = {
                which = "starbase_module_shipyard_built"
                value = 0
            }
            set_variable = {
                which = "starbase_module_anchorage_built"
                value = 0
            }
            set_variable = {
                which = "starbase_module_gun_battery_built"
                value = 0
            }
            set_variable = {
                which = "starbase_module_missile_battery_built"
                value = 0
            }
            set_variable = {
                which = "starbase_module_hangar_bay_built"
                value = 0
            }
            set_variable = {
                which = "starbase_module_trading_hub_built"
                value = 0
            }
            # Starbase building counters
            set_variable = {
                which = "starbase_building_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_crew_quarters_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_hydroponics_bay_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_resource_silo_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_nebula_refinery_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_listening_post_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_offworld_trading_company_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_fleet_academy_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_naval_logistics_office_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_titan_yards_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_colossus_yards_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_black_hole_observatory_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_target_uplink_computer_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_defense_grid_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_deep_space_black_site_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_curator_think_tank_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_art_college_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_communications_jammer_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_disruption_field_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_warp_fluctuator_built"
                value = 0
            }
            set_variable = {
                which = "starbase_building_command_center_built"
                value = 0
            }

            every_owned_starbase = {
                # Starbase "Shipyard" module
                if = {
                    limit = {
                        has_starbase_module = "shipyard"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_module_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_module_shipyard_built"
                            value = 1
                        }
                    }
                    if = {
                        limit = {
                            count_starbase_modules = {
                                type = "shipyard"
                                count = 2
                            }
                        }
                        owner = {
                            change_variable = {
                                which = "starbase_module_shipyard_built"
                                value = 1
                            }
                        }
                        else = {
                            if = {
                                limit = {
                                    count_starbase_modules = {
                                        type = "shipyard"
                                        count = 3
                                    }
                                }
                                owner = {
                                    change_variable = {
                                        which = "starbase_module_shipyard_built"
                                        value = 2
                                    }
                                }
                                else = {
                                    if = {
                                        limit = {
                                            count_starbase_modules = {
                                                type = "shipyard"
                                                count = 4
                                            }
                                        }
                                        owner = {
                                            change_variable = {
                                                which = "starbase_module_shipyard_built"
                                                value = 3
                                            }
                                        }
                                        else = {
                                            if = {
                                                limit = {
                                                    count_starbase_modules = {
                                                        type = "shipyard"
                                                        count = 5
                                                    }
                                                }
                                                owner = {
                                                    change_variable = {
                                                        which = "starbase_module_shipyard_built"
                                                        value = 4
                                                    }
                                                }
                                                else = {
                                                    if = {
                                                        limit = {
                                                            count_starbase_modules = {
                                                                type = "shipyard"
                                                                count = 6
                                                            }
                                                        }
                                                        owner = {
                                                            change_variable = {
                                                                which = "starbase_module_shipyard_built"
                                                                value = 5
                                                            }
                                                        }
                                                        else = {
                                                            if = {
                                                                limit = {
                                                                    count_starbase_modules = {
                                                                        type = "shipyard"
                                                                        count = 7
                                                                    }
                                                                }
                                                                owner = {
                                                                    change_variable = {
                                                                        which = "starbase_module_shipyard_built"
                                                                        value = 6
                                                                    }
                                                                }
                                                                else = {
                                                                    if = {
                                                                        limit = {
                                                                            count_starbase_modules = {
                                                                                type = "shipyard"
                                                                                count = 8
                                                                            }
                                                                        }
                                                                        owner = {
                                                                            change_variable = {
                                                                                which = "starbase_module_shipyard_built"
                                                                                value = 7
                                                                            }
                                                                        }
                                                                        else = {
                                                                            if = {
                                                                                limit = {
                                                                                    count_starbase_modules = {
                                                                                        type = "shipyard"
                                                                                        count = 9
                                                                                    }
                                                                                }
                                                                                owner = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_shipyard_built"
                                                                                        value = 8
                                                                                    }
                                                                                }
                                                                                else = {
                                                                                    owner = {
                                                                                        change_variable = {
                                                                                            which = "starbase_module_shipyard_built"
                                                                                            value = 9
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                # Starbase "Anchorage" module
                if = {
                    limit = {
                        has_starbase_module = "anchorage"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_module_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_module_anchorage_built"
                            value = 1
                        }
                    }
                    if = {
                        limit = {
                            count_starbase_modules = {
                                type = "anchorage"
                                count = 2
                            }
                        }
                        owner = {
                            change_variable = {
                                which = "starbase_module_anchorage_built"
                                value = 1
                            }
                        }
                        else = {
                            if = {
                                limit = {
                                    count_starbase_modules = {
                                        type = "anchorage"
                                        count = 3
                                    }
                                }
                                owner = {
                                    change_variable = {
                                        which = "starbase_module_anchorage_built"
                                        value = 2
                                    }
                                }
                                else = {
                                    if = {
                                        limit = {
                                            count_starbase_modules = {
                                                type = "anchorage"
                                                count = 4
                                            }
                                        }
                                        owner = {
                                            change_variable = {
                                                which = "starbase_module_anchorage_built"
                                                value = 3
                                            }
                                        }
                                        else = {
                                            if = {
                                                limit = {
                                                    count_starbase_modules = {
                                                        type = "anchorage"
                                                        count = 5
                                                    }
                                                }
                                                owner = {
                                                    change_variable = {
                                                        which = "starbase_module_anchorage_built"
                                                        value = 4
                                                    }
                                                }
                                                else = {
                                                    if = {
                                                        limit = {
                                                            count_starbase_modules = {
                                                                type = "anchorage"
                                                                count = 6
                                                            }
                                                        }
                                                        owner = {
                                                            change_variable = {
                                                                which = "starbase_module_anchorage_built"
                                                                value = 5
                                                            }
                                                        }
                                                        else = {
                                                            if = {
                                                                limit = {
                                                                    count_starbase_modules = {
                                                                        type = "anchorage"
                                                                        count = 7
                                                                    }
                                                                }
                                                                owner = {
                                                                    change_variable = {
                                                                        which = "starbase_module_anchorage_built"
                                                                        value = 6
                                                                    }
                                                                }
                                                                else = {
                                                                    if = {
                                                                        limit = {
                                                                            count_starbase_modules = {
                                                                                type = "anchorage"
                                                                                count = 8
                                                                            }
                                                                        }
                                                                        owner = {
                                                                            change_variable = {
                                                                                which = "starbase_module_anchorage_built"
                                                                                value = 7
                                                                            }
                                                                        }
                                                                        else = {
                                                                            if = {
                                                                                limit = {
                                                                                    count_starbase_modules = {
                                                                                        type = "anchorage"
                                                                                        count = 9
                                                                                    }
                                                                                }
                                                                                owner = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_anchorage_built"
                                                                                        value = 8
                                                                                    }
                                                                                }
                                                                                else = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_anchorage_built"
                                                                                        value = 9
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                # Starbase "Gun battery" module
                if = {
                    limit = {
                        has_starbase_module = "gun_battery"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_module_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_module_gun_battery_built"
                            value = 1
                        }
                    }
                    if = {
                        limit = {
                            count_starbase_modules = {
                                type = "gun_battery"
                                count = 2
                            }
                        }
                        owner = {
                            change_variable = {
                                which = "starbase_module_gun_battery_built"
                                value = 1
                            }
                        }
                        else = {
                            if = {
                                limit = {
                                    count_starbase_modules = {
                                        type = "gun_battery"
                                        count = 3
                                    }
                                }
                                owner = {
                                    change_variable = {
                                        which = "starbase_module_gun_battery_built"
                                        value = 2
                                    }
                                }
                                else = {
                                    if = {
                                        limit = {
                                            count_starbase_modules = {
                                                type = "gun_battery"
                                                count = 4
                                            }
                                        }
                                        owner = {
                                            change_variable = {
                                                which = "starbase_module_gun_battery_built"
                                                value = 3
                                            }
                                        }
                                        else = {
                                            if = {
                                                limit = {
                                                    count_starbase_modules = {
                                                        type = "gun_battery"
                                                        count = 5
                                                    }
                                                }
                                                owner = {
                                                    change_variable = {
                                                        which = "starbase_module_gun_battery_built"
                                                        value = 4
                                                    }
                                                }
                                                else = {
                                                    if = {
                                                        limit = {
                                                            count_starbase_modules = {
                                                                type = "gun_battery"
                                                                count = 6
                                                            }
                                                        }
                                                        owner = {
                                                            change_variable = {
                                                                which = "starbase_module_gun_battery_built"
                                                                value = 5
                                                            }
                                                        }
                                                        else = {
                                                            if = {
                                                                limit = {
                                                                    count_starbase_modules = {
                                                                        type = "gun_battery"
                                                                        count = 7
                                                                    }
                                                                }
                                                                owner = {
                                                                    change_variable = {
                                                                        which = "starbase_module_gun_battery_built"
                                                                        value = 6
                                                                    }
                                                                }
                                                                else = {
                                                                    if = {
                                                                        limit = {
                                                                            count_starbase_modules = {
                                                                                type = "gun_battery"
                                                                                count = 8
                                                                            }
                                                                        }
                                                                        owner = {
                                                                            change_variable = {
                                                                                which = "starbase_module_gun_battery_built"
                                                                                value = 7
                                                                            }
                                                                        }
                                                                        else = {
                                                                            if = {
                                                                                limit = {
                                                                                    count_starbase_modules = {
                                                                                        type = "gun_battery"
                                                                                        count = 9
                                                                                    }
                                                                                }
                                                                                owner = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_gun_battery_built"
                                                                                        value = 8
                                                                                    }
                                                                                }
                                                                                else = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_gun_battery_built"
                                                                                        value = 9
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                # Starbase "Missile battery" module
                if = {
                    limit = {
                        has_starbase_module = "missile_battery"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_module_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_module_missile_battery_built"
                            value = 1
                        }
                    }
                    if = {
                        limit = {
                            count_starbase_modules = {
                                type = "missile_battery"
                                count = 2
                            }
                        }
                        owner = {
                            change_variable = {
                                which = "starbase_module_missile_battery_built"
                                value = 1
                            }
                        }
                        else = {
                            if = {
                                limit = {
                                    count_starbase_modules = {
                                        type = "missile_battery"
                                        count = 3
                                    }
                                }
                                owner = {
                                    change_variable = {
                                        which = "starbase_module_missile_battery_built"
                                        value = 2
                                    }
                                }
                                else = {
                                    if = {
                                        limit = {
                                            count_starbase_modules = {
                                                type = "missile_battery"
                                                count = 4
                                            }
                                        }
                                        owner = {
                                            change_variable = {
                                                which = "starbase_module_missile_battery_built"
                                                value = 3
                                            }
                                        }
                                        else = {
                                            if = {
                                                limit = {
                                                    count_starbase_modules = {
                                                        type = "missile_battery"
                                                        count = 5
                                                    }
                                                }
                                                owner = {
                                                    change_variable = {
                                                        which = "starbase_module_missile_battery_built"
                                                        value = 4
                                                    }
                                                }
                                                else = {
                                                    if = {
                                                        limit = {
                                                            count_starbase_modules = {
                                                                type = "missile_battery"
                                                                count = 6
                                                            }
                                                        }
                                                        owner = {
                                                            change_variable = {
                                                                which = "starbase_module_missile_battery_built"
                                                                value = 5
                                                            }
                                                        }
                                                        else = {
                                                            if = {
                                                                limit = {
                                                                    count_starbase_modules = {
                                                                        type = "missile_battery"
                                                                        count = 7
                                                                    }
                                                                }
                                                                owner = {
                                                                    change_variable = {
                                                                        which = "starbase_module_missile_battery_built"
                                                                        value = 6
                                                                    }
                                                                }
                                                                else = {
                                                                    if = {
                                                                        limit = {
                                                                            count_starbase_modules = {
                                                                                type = "missile_battery"
                                                                                count = 8
                                                                            }
                                                                        }
                                                                        owner = {
                                                                            change_variable = {
                                                                                which = "starbase_module_missile_battery_built"
                                                                                value = 7
                                                                            }
                                                                        }
                                                                        else = {
                                                                            if = {
                                                                                limit = {
                                                                                    count_starbase_modules = {
                                                                                        type = "missile_battery"
                                                                                        count = 9
                                                                                    }
                                                                                }
                                                                                owner = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_missile_battery_built"
                                                                                        value = 8
                                                                                    }
                                                                                }
                                                                                else = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_missile_battery_built"
                                                                                        value = 9
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                # Starbase "Hangar bay" module
                if = {
                    limit = {
                        has_starbase_module = "hangar_bay"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_module_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_module_hangar_bay_built"
                            value = 1
                        }
                    }
                    if = {
                        limit = {
                            count_starbase_modules = {
                                type = "hangar_bay"
                                count = 2
                            }
                        }
                        owner = {
                            change_variable = {
                                which = "starbase_module_hangar_bay_built"
                                value = 1
                            }
                        }
                        else = {
                            if = {
                                limit = {
                                    count_starbase_modules = {
                                        type = "hangar_bay"
                                        count = 3
                                    }
                                }
                                owner = {
                                    change_variable = {
                                        which = "starbase_module_hangar_bay_built"
                                        value = 2
                                    }
                                }
                                else = {
                                    if = {
                                        limit = {
                                            count_starbase_modules = {
                                                type = "hangar_bay"
                                                count = 4
                                            }
                                        }
                                        owner = {
                                            change_variable = {
                                                which = "starbase_module_hangar_bay_built"
                                                value = 3
                                            }
                                        }
                                        else = {
                                            if = {
                                                limit = {
                                                    count_starbase_modules = {
                                                        type = "hangar_bay"
                                                        count = 5
                                                    }
                                                }
                                                owner = {
                                                    change_variable = {
                                                        which = "starbase_module_hangar_bay_built"
                                                        value = 4
                                                    }
                                                }
                                                else = {
                                                    if = {
                                                        limit = {
                                                            count_starbase_modules = {
                                                                type = "hangar_bay"
                                                                count = 6
                                                            }
                                                        }
                                                        owner = {
                                                            change_variable = {
                                                                which = "starbase_module_hangar_bay_built"
                                                                value = 5
                                                            }
                                                        }
                                                        else = {
                                                            if = {
                                                                limit = {
                                                                    count_starbase_modules = {
                                                                        type = "hangar_bay"
                                                                        count = 7
                                                                    }
                                                                }
                                                                owner = {
                                                                    change_variable = {
                                                                        which = "starbase_module_hangar_bay_built"
                                                                        value = 6
                                                                    }
                                                                }
                                                                else = {
                                                                    if = {
                                                                        limit = {
                                                                            count_starbase_modules = {
                                                                                type = "hangar_bay"
                                                                                count = 8
                                                                            }
                                                                        }
                                                                        owner = {
                                                                            change_variable = {
                                                                                which = "starbase_module_hangar_bay_built"
                                                                                value = 7
                                                                            }
                                                                        }
                                                                        else = {
                                                                            if = {
                                                                                limit = {
                                                                                    count_starbase_modules = {
                                                                                        type = "hangar_bay"
                                                                                        count = 9
                                                                                    }
                                                                                }
                                                                                owner = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_hangar_bay_built"
                                                                                        value = 8
                                                                                    }
                                                                                }
                                                                                else = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_hangar_bay_built"
                                                                                        value = 9
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                # Starbase "Trading hub" module
                if = {
                    limit = {
                        has_starbase_module = "trading_hub"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_module_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_module_trading_hub_built"
                            value = 1
                        }
                    }
                    if = {
                        limit = {
                            count_starbase_modules = {
                                type = "trading_hub"
                                count = 2
                            }
                        }
                        owner = {
                            change_variable = {
                                which = "starbase_module_trading_hub_built"
                                value = 1
                            }
                        }
                        else = {
                            if = {
                                limit = {
                                    count_starbase_modules = {
                                        type = "trading_hub"
                                        count = 3
                                    }
                                }
                                owner = {
                                    change_variable = {
                                        which = "starbase_module_trading_hub_built"
                                        value = 2
                                    }
                                }
                                else = {
                                    if = {
                                        limit = {
                                            count_starbase_modules = {
                                                type = "trading_hub"
                                                count = 4
                                            }
                                        }
                                        owner = {
                                            change_variable = {
                                                which = "starbase_module_trading_hub_built"
                                                value = 3
                                            }
                                        }
                                        else = {
                                            if = {
                                                limit = {
                                                    count_starbase_modules = {
                                                        type = "trading_hub"
                                                        count = 5
                                                    }
                                                }
                                                owner = {
                                                    change_variable = {
                                                        which = "starbase_module_trading_hub_built"
                                                        value = 4
                                                    }
                                                }
                                                else = {
                                                    if = {
                                                        limit = {
                                                            count_starbase_modules = {
                                                                type = "trading_hub"
                                                                count = 6
                                                            }
                                                        }
                                                        owner = {
                                                            change_variable = {
                                                                which = "starbase_module_trading_hub_built"
                                                                value = 5
                                                            }
                                                        }
                                                        else = {
                                                            if = {
                                                                limit = {
                                                                    count_starbase_modules = {
                                                                        type = "trading_hub"
                                                                        count = 7
                                                                    }
                                                                }
                                                                owner = {
                                                                    change_variable = {
                                                                        which = "starbase_module_trading_hub_built"
                                                                        value = 6
                                                                    }
                                                                }
                                                                else = {
                                                                    if = {
                                                                        limit = {
                                                                            count_starbase_modules = {
                                                                                type = "trading_hub"
                                                                                count = 8
                                                                            }
                                                                        }
                                                                        owner = {
                                                                            change_variable = {
                                                                                which = "starbase_module_trading_hub_built"
                                                                                value = 7
                                                                            }
                                                                        }
                                                                        else = {
                                                                            if = {
                                                                                limit = {
                                                                                    count_starbase_modules = {
                                                                                        type = "trading_hub"
                                                                                        count = 9
                                                                                    }
                                                                                }
                                                                                owner = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_trading_hub_built"
                                                                                        value = 8
                                                                                    }
                                                                                }
                                                                                else = {
                                                                                    change_variable = {
                                                                                        which = "starbase_module_trading_hub_built"
                                                                                        value = 9
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                # Starbase "Crew quarters" building
                if = {
                    limit = {
                        has_starbase_building = "crew_quarters"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_crew_quarters_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Hydroponics bay" building
                if = {
                    limit = {
                        has_starbase_building = "hydroponics_bay"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_hydroponics_bay_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Resource silo" building
                if = {
                    limit = {
                        has_starbase_building = "resource_silo"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_resource_silo_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Nebula refinery" building
                if = {
                    limit = {
                        has_starbase_building = "nebula_refinery"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_nebula_refinery_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Listening post" building
                if = {
                    limit = {
                        has_starbase_building = "listening_post"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_listening_post_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Offworld trading company" building
                if = {
                    limit = {
                        has_starbase_building = "offworld_trading_company"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_offworld_trading_company_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Fleet academy" building
                if = {
                    limit = {
                        has_starbase_building = "fleet_academy"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_fleet_academy_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Naval logistics office" building
                if = {
                    limit = {
                        has_starbase_building = "naval_logistics_office"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_naval_logistics_office_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Titan yards" building
                if = {
                    limit = {
                        has_starbase_building = "titan_yards"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_titan_yards_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Colossus yards" building
                if = {
                    limit = {
                        has_starbase_building = "colossus_yards"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_colossus_yards_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Black hole observatory" building
                if = {
                    limit = {
                        has_starbase_building = "black_hole_observatory"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_black_hole_observatory_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Target uplink computer" building
                if = {
                    limit = {
                        has_starbase_building = "target_uplink_computer"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_target_uplink_computer_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Defense grid" building
                if = {
                    limit = {
                        has_starbase_building = "defense_grid"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_defense_grid_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Deep space black site" building
                if = {
                    limit = {
                        has_starbase_building = "deep_space_black_site"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_deep_space_black_site_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Curator think tank" building
                if = {
                    limit = {
                        has_starbase_building = "curator_think_tank"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_curator_think_tank_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Art college" building
                if = {
                    limit = {
                        has_starbase_building = "art_college"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_art_college_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Communications jammer" building
                if = {
                    limit = {
                        has_starbase_building = "communications_jammer"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_communications_jammer_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Disruption field" building
                if = {
                    limit = {
                        has_starbase_building = "disruption_field"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_disruption_field_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Warp fluctuator" building
                if = {
                    limit = {
                        has_starbase_building = "warp_fluctuator"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_warp_fluctuator_built"
                            value = 1
                        }
                    }
                }
                # Starbase "Command center" building
                if = {
                    limit = {
                        has_starbase_building = "command_center"
                    }
                    owner = {
                        change_variable = {
                            which = "starbase_building_built"
                            value = 1
                        }
                        change_variable = {
                            which = "starbase_building_command_center_built"
                            value = 1
                        }
                    }
                }
            }

            every_owned_planet = {
                limit = {
                    OR = {
                        has_building = "building_hydroponics_farm_1"
                        has_building = "building_hydroponics_farm_2"
                        has_building = "building_hydroponics_farm_3"
                        has_building = "building_hydroponics_farm_4"
                        has_building = "building_hydroponics_farm_5"
                        has_building = "building_mining_network_1"
                        has_building = "building_mining_network_2"
                        has_building = "building_mining_network_3"
                        has_building = "building_mining_network_4"
                        has_building = "building_mining_network_5"
                        has_building = "building_mineral_processing_plant_1"
                        has_building = "building_mineral_processing_plant_2"
                        has_building = "building_power_plant_1"
                        has_building = "building_power_plant_2"
                        has_building = "building_power_plant_3"
                        has_building = "building_power_plant_4"
                        has_building = "building_power_plant_5"
                        has_building = "building_power_hub_1"
                        has_building = "building_power_hub_2"
                    }
                }

                every_tile = {
                    if = {
                        limit = {
                            has_building = yes
                        }

                        ### Building "Hydroponics farm" counting
                        if = {
                            limit = {
                                OR = {
                                    has_building = "building_hydroponics_farm_1"
                                    has_building = "building_hydroponics_farm_2"
                                    has_building = "building_hydroponics_farm_3"
                                    has_building = "building_hydroponics_farm_4"
                                    has_building = "building_hydroponics_farm_5"
                                }
                            }
                            prev = {
                                owner = {
                                    change_variable = {
                                        which = "planet_building_hydroponics_farm_built"
                                        value = 1
                                    }
                                }
                            }
                        }
                        ### Building "Mining network" counting
                        if = {
                            limit = {
                                OR = {
                                    has_building = "building_mining_network_1"
                                    has_building = "building_mining_network_2"
                                    has_building = "building_mining_network_3"
                                    has_building = "building_mining_network_4"
                                    has_building = "building_mining_network_5"
                                }
                            }
                            prev = {
                                owner = {
                                    change_variable = {
                                        which = "planet_building_mining_network_built"
                                        value = 1
                                    }
                                }
                            }
                        }
                        ### Building "Mineral processing plant" counting
                        if = {
                            limit = {
                                OR = {
                                    has_building = "building_mineral_processing_plant_1"
                                    has_building = "building_mineral_processing_plant_2"
                                }
                            }
                            prev = {
                                owner = {
                                    change_variable = {
                                        which = "planet_building_mineral_processing_plant_built"
                                        value = 1
                                    }
                                }
                            }
                        }
                        ### Building "Power plant" counting
                        if = {
                            limit = {
                                OR = {
                                    has_building = "building_power_plant_1"
                                    has_building = "building_power_plant_2"
                                    has_building = "building_power_plant_3"
                                    has_building = "building_power_plant_4"
                                    has_building = "building_power_plant_5"
                                }
                            }
                            prev = {
                                owner = {
                                    change_variable = {
                                        which = "planet_building_power_plant_built"
                                        value = 1
                                    }
                                }
                            }
                        }
                        ### Building "Power hub" counting
                        if = {
                            limit = {
                                OR = {
                                    has_building = "building_power_hub_1"
                                    has_building = "building_power_hub_2"
                                }
                            }
                            prev = {
                                owner = {
                                    change_variable = {
                                        which = "planet_building_power_hub_built"
                                        value = 1
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

##########################
### Any buildings events
##########################

event = {
    id = zog_building_events.1
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_built"
                        value = 1
                    }
                }
            }
        }
    }
}

event = {
    id = zog_building_events.2
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Hydroponics farm I" events
##########################################

planet_event = {
    id = zog_building_events.10
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_hydroponics_farm_1"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_1_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_hydroponics_farm_1_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_hydroponics_farm_1_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.11
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_hydroponics_farm_1"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_1_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_hydroponics_farm_1_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Hydroponics farm II" events
##########################################

planet_event = {
    id = zog_building_events.20
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_hydroponics_farm_2"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_2_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_hydroponics_farm_2_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_hydroponics_farm_2_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.21
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_hydroponics_farm_2"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_2_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_hydroponics_farm_2_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Hydroponics farm III" events
##########################################

planet_event = {
    id = zog_building_events.30
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_hydroponics_farm_3"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_3_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_hydroponics_farm_3_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_hydroponics_farm_3_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.31
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_hydroponics_farm_3"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_3_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_hydroponics_farm_3_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Hydroponics farm IV" events
##########################################

planet_event = {
    id = zog_building_events.40
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_hydroponics_farm_4"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_4_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_hydroponics_farm_4_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_hydroponics_farm_4_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.41
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_hydroponics_farm_4"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_4_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_hydroponics_farm_4_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Hydroponics farm V" events
##########################################

planet_event = {
    id = zog_building_events.50
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_hydroponics_farm_5"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_5_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_hydroponics_farm_5_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_hydroponics_farm_5_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.51
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_hydroponics_farm_5"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_hydroponics_farm_5_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_hydroponics_farm_5_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Mining network I" events
##########################################

planet_event = {
    id = zog_building_events.15
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_mining_network_1"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_1_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_mining_network_1_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_mining_network_1_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.16
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_mining_network_1"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_1_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_mining_network_1_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Mining network II" events
##########################################

planet_event = {
    id = zog_building_events.25
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_mining_network_2"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_2_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_mining_network_2_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_mining_network_2_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.26
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_mining_network_2"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_2_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_mining_network_2_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Mining network III" events
##########################################

planet_event = {
    id = zog_building_events.35
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_mining_network_3"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_3_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_mining_network_3_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_mining_network_3_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.36
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_mining_network_3"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_3_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_mining_network_3_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Mining network IV" events
##########################################

planet_event = {
    id = zog_building_events.45
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_mining_network_4"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_4_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_mining_network_4_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_mining_network_4_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.46
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_mining_network_4"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_4_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_mining_network_4_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Mining network V" events
##########################################

planet_event = {
    id = zog_building_events.55
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_mining_network_5"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_5_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_mining_network_5_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_mining_network_5_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.56
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_mining_network_5"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_mining_network_5_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_mining_network_5_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Power plant I" events
##########################################

planet_event = {
    id = zog_building_events.12
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_power_plant_1"
        }
    }

    immediate = {
        log = "===== BUILDING POWER_PLANT_1 BUILDED"

        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_1_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_power_plant_1_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_power_plant_1_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.17
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_power_plant_1"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_1_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_power_plant_1_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Power plant II" events
##########################################

planet_event = {
    id = zog_building_events.22
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_power_plant_2"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_2_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_power_plant_2_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_power_plant_2_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.27
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_power_plant_2"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_2_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_power_plant_2_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Power plant III" events
##########################################

planet_event = {
    id = zog_building_events.32
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_power_plant_3"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_3_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_power_plant_3_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_power_plant_3_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.37
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_power_plant_3"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_3_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_power_plant_3_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Power plant IV" events
##########################################

planet_event = {
    id = zog_building_events.42
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_power_plant_4"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_4_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_power_plant_4_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_power_plant_4_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.47
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_power_plant_4"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_4_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_power_plant_4_built"
                    value = -1
                }
            }
        }
    }
}

##########################################
### Building "Power plant V" events
##########################################

planet_event = {
    id = zog_building_events.52
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_power_plant_5"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_5_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "planet_building_power_plant_5_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "planet_building_power_plant_5_built"
                        value = 1
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.57
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_power_plant_5"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    check_variable = {
                        which = "planet_building_power_plant_5_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "planet_building_power_plant_5_built"
                    value = -1
                }
            }
        }
    }
}

#####################################################
### Building "Institute of Life Engineering" events
#####################################################

planet_event = {
    id = zog_building_events.60
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_life_engineering_institute"
        }
    }

    immediate = {
        owner = {
            random_list = {
                12 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "HUM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "HUM_species_points" value < 1 } }
                            set_variable = { which = "HUM_species_points" value = 1 }
                            else = { change_variable = { which = "HUM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MAM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MAM_species_points" value < 1 } }
                            set_variable = { which = "MAM_species_points" value = 1 }
                            else = { change_variable = { which = "MAM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "REP_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "REP_species_points" value < 1 } }
                            set_variable = { which = "REP_species_points" value = 1 }
                            else = { change_variable = { which = "REP_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "AVI_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "AVI_species_points" value < 1 } }
                            set_variable = { which = "AVI_species_points" value = 1 }
                            else = { change_variable = { which = "AVI_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ART_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ART_species_points" value < 1 } }
                            set_variable = { which = "ART_species_points" value = 1 }
                            else = { change_variable = { which = "ART_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "FUN_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "FUN_species_points" value < 1 } }
                            set_variable = { which = "FUN_species_points" value = 1 }
                            else = { change_variable = { which = "FUN_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MOL_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MOL_species_points" value < 1 } }
                            set_variable = { which = "MOL_species_points" value = 1 }
                            else = { change_variable = { which = "MOL_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "PLANT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "PLANT_species_points" value < 1 } }
                            set_variable = { which = "PLANT_species_points" value = 1 }
                            else = { change_variable = { which = "PLANT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
                12 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MAM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MAM_species_points" value < 1 } }
                            set_variable = { which = "MAM_species_points" value = 1 }
                            else = { change_variable = { which = "MAM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "REP_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "REP_species_points" value < 1 } }
                            set_variable = { which = "REP_species_points" value = 1 }
                            else = { change_variable = { which = "REP_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "AVI_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "AVI_species_points" value < 1 } }
                            set_variable = { which = "AVI_species_points" value = 1 }
                            else = { change_variable = { which = "AVI_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ART_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ART_species_points" value < 1 } }
                            set_variable = { which = "ART_species_points" value = 1 }
                            else = { change_variable = { which = "ART_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "FUN_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "FUN_species_points" value < 1 } }
                            set_variable = { which = "FUN_species_points" value = 1 }
                            else = { change_variable = { which = "FUN_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MOL_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MOL_species_points" value < 1 } }
                            set_variable = { which = "MOL_species_points" value = 1 }
                            else = { change_variable = { which = "MOL_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "PLANT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "PLANT_species_points" value < 1 } }
                            set_variable = { which = "PLANT_species_points" value = 1 }
                            else = { change_variable = { which = "PLANT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "HUM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "HUM_species_points" value < 1 } }
                            set_variable = { which = "HUM_species_points" value = 1 }
                            else = { change_variable = { which = "HUM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
                12 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "REP_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "REP_species_points" value < 1 } }
                            set_variable = { which = "REP_species_points" value = 1 }
                            else = { change_variable = { which = "REP_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "AVI_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "AVI_species_points" value < 1 } }
                            set_variable = { which = "AVI_species_points" value = 1 }
                            else = { change_variable = { which = "AVI_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ART_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ART_species_points" value < 1 } }
                            set_variable = { which = "ART_species_points" value = 1 }
                            else = { change_variable = { which = "ART_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "FUN_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "FUN_species_points" value < 1 } }
                            set_variable = { which = "FUN_species_points" value = 1 }
                            else = { change_variable = { which = "FUN_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MOL_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MOL_species_points" value < 1 } }
                            set_variable = { which = "MOL_species_points" value = 1 }
                            else = { change_variable = { which = "MOL_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "PLANT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "PLANT_species_points" value < 1 } }
                            set_variable = { which = "PLANT_species_points" value = 1 }
                            else = { change_variable = { which = "PLANT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "HUM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "HUM_species_points" value < 1 } }
                            set_variable = { which = "HUM_species_points" value = 1 }
                            else = { change_variable = { which = "HUM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MAM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MAM_species_points" value < 1 } }
                            set_variable = { which = "MAM_species_points" value = 1 }
                            else = { change_variable = { which = "MAM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
                12 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "AVI_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "AVI_species_points" value < 1 } }
                            set_variable = { which = "AVI_species_points" value = 1 }
                            else = { change_variable = { which = "AVI_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ART_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ART_species_points" value < 1 } }
                            set_variable = { which = "ART_species_points" value = 1 }
                            else = { change_variable = { which = "ART_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "FUN_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "FUN_species_points" value < 1 } }
                            set_variable = { which = "FUN_species_points" value = 1 }
                            else = { change_variable = { which = "FUN_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MOL_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MOL_species_points" value < 1 } }
                            set_variable = { which = "MOL_species_points" value = 1 }
                            else = { change_variable = { which = "MOL_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "PLANT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "PLANT_species_points" value < 1 } }
                            set_variable = { which = "PLANT_species_points" value = 1 }
                            else = { change_variable = { which = "PLANT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "HUM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "HUM_species_points" value < 1 } }
                            set_variable = { which = "HUM_species_points" value = 1 }
                            else = { change_variable = { which = "HUM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MAM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MAM_species_points" value < 1 } }
                            set_variable = { which = "MAM_species_points" value = 1 }
                            else = { change_variable = { which = "MAM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "REP_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "REP_species_points" value < 1 } }
                            set_variable = { which = "REP_species_points" value = 1 }
                            else = { change_variable = { which = "REP_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
                12 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ART_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ART_species_points" value < 1 } }
                            set_variable = { which = "ART_species_points" value = 1 }
                            else = { change_variable = { which = "ART_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "FUN_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "FUN_species_points" value < 1 } }
                            set_variable = { which = "FUN_species_points" value = 1 }
                            else = { change_variable = { which = "FUN_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MOL_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MOL_species_points" value < 1 } }
                            set_variable = { which = "MOL_species_points" value = 1 }
                            else = { change_variable = { which = "MOL_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "PLANT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "PLANT_species_points" value < 1 } }
                            set_variable = { which = "PLANT_species_points" value = 1 }
                            else = { change_variable = { which = "PLANT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "HUM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "HUM_species_points" value < 1 } }
                            set_variable = { which = "HUM_species_points" value = 1 }
                            else = { change_variable = { which = "HUM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MAM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MAM_species_points" value < 1 } }
                            set_variable = { which = "MAM_species_points" value = 1 }
                            else = { change_variable = { which = "MAM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "REP_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "REP_species_points" value < 1 } }
                            set_variable = { which = "REP_species_points" value = 1 }
                            else = { change_variable = { which = "REP_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "AVI_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "AVI_species_points" value < 1 } }
                            set_variable = { which = "AVI_species_points" value = 1 }
                            else = { change_variable = { which = "AVI_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
                12 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "FUN_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "FUN_species_points" value < 1 } }
                            set_variable = { which = "FUN_species_points" value = 1 }
                            else = { change_variable = { which = "FUN_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MOL_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MOL_species_points" value < 1 } }
                            set_variable = { which = "MOL_species_points" value = 1 }
                            else = { change_variable = { which = "MOL_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "PLANT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "PLANT_species_points" value < 1 } }
                            set_variable = { which = "PLANT_species_points" value = 1 }
                            else = { change_variable = { which = "PLANT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "HUM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "HUM_species_points" value < 1 } }
                            set_variable = { which = "HUM_species_points" value = 1 }
                            else = { change_variable = { which = "HUM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MAM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MAM_species_points" value < 1 } }
                            set_variable = { which = "MAM_species_points" value = 1 }
                            else = { change_variable = { which = "MAM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "REP_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "REP_species_points" value < 1 } }
                            set_variable = { which = "REP_species_points" value = 1 }
                            else = { change_variable = { which = "REP_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "AVI_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "AVI_species_points" value < 1 } }
                            set_variable = { which = "AVI_species_points" value = 1 }
                            else = { change_variable = { which = "AVI_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ART_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ART_species_points" value < 1 } }
                            set_variable = { which = "ART_species_points" value = 1 }
                            else = { change_variable = { which = "ART_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
                12 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MOL_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MOL_species_points" value < 1 } }
                            set_variable = { which = "MOL_species_points" value = 1 }
                            else = { change_variable = { which = "MOL_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "PLANT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "PLANT_species_points" value < 1 } }
                            set_variable = { which = "PLANT_species_points" value = 1 }
                            else = { change_variable = { which = "PLANT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "HUM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "HUM_species_points" value < 1 } }
                            set_variable = { which = "HUM_species_points" value = 1 }
                            else = { change_variable = { which = "HUM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MAM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MAM_species_points" value < 1 } }
                            set_variable = { which = "MAM_species_points" value = 1 }
                            else = { change_variable = { which = "MAM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "REP_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "REP_species_points" value < 1 } }
                            set_variable = { which = "REP_species_points" value = 1 }
                            else = { change_variable = { which = "REP_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "AVI_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "AVI_species_points" value < 1 } }
                            set_variable = { which = "AVI_species_points" value = 1 }
                            else = { change_variable = { which = "AVI_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ART_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ART_species_points" value < 1 } }
                            set_variable = { which = "ART_species_points" value = 1 }
                            else = { change_variable = { which = "ART_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "FUN_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "FUN_species_points" value < 1 } }
                            set_variable = { which = "FUN_species_points" value = 1 }
                            else = { change_variable = { which = "FUN_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
                12 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "PLANT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "PLANT_species_points" value < 1 } }
                            set_variable = { which = "PLANT_species_points" value = 1 }
                            else = { change_variable = { which = "PLANT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "HUM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "HUM_species_points" value < 1 } }
                            set_variable = { which = "HUM_species_points" value = 1 }
                            else = { change_variable = { which = "HUM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MAM_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MAM_species_points" value < 1 } }
                            set_variable = { which = "MAM_species_points" value = 1 }
                            else = { change_variable = { which = "MAM_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "REP_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "REP_species_points" value < 1 } }
                            set_variable = { which = "REP_species_points" value = 1 }
                            else = { change_variable = { which = "REP_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "AVI_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "AVI_species_points" value < 1 } }
                            set_variable = { which = "AVI_species_points" value = 1 }
                            else = { change_variable = { which = "AVI_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ART_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ART_species_points" value < 1 } }
                            set_variable = { which = "ART_species_points" value = 1 }
                            else = { change_variable = { which = "ART_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "FUN_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "FUN_species_points" value < 1 } }
                            set_variable = { which = "FUN_species_points" value = 1 }
                            else = { change_variable = { which = "FUN_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MOL_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MOL_species_points" value < 1 } }
                            set_variable = { which = "MOL_species_points" value = 1 }
                            else = { change_variable = { which = "MOL_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.61
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_life_engineering_institute"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    has_country_flag = "HUM_species_researched"
                    check_variable = {
                        which = "HUM_species_points"
                        value > 1
                    }
                }
                change_variable = {
                    which = "HUM_species_points"
                    value = -1
                }
                else = {
                    if = {
                        limit = {
                            has_country_flag = "MAM_species_researched"
                            check_variable = {
                                which = "MAM_species_points"
                                value > 1
                            }
                        }
                        change_variable = {
                            which = "MAM_species_points"
                            value = -1
                        }
                        else = {
                            if = {
                                limit = {
                                    has_country_flag = "REP_species_researched"
                                    check_variable = {
                                        which = "REP_species_points"
                                        value > 1
                                    }
                                }
                                change_variable = {
                                    which = "REP_species_points"
                                    value = -1
                                }
                                else = {
                                    if = {
                                        limit = {
                                            has_country_flag = "AVI_species_researched"
                                            check_variable = {
                                                which = "AVI_species_points"
                                                value > 1
                                            }
                                        }
                                        change_variable = {
                                            which = "AVI_species_points"
                                            value = -1
                                        }
                                        else = {
                                            if = {
                                                limit = {
                                                    has_country_flag = "ART_species_researched"
                                                    check_variable = {
                                                        which = "ART_species_points"
                                                        value > 1
                                                    }
                                                }
                                                change_variable = {
                                                    which = "ART_species_points"
                                                    value = -1
                                                }
                                                else = {
                                                    if = {
                                                        limit = {
                                                            has_country_flag = "FUN_species_researched"
                                                            check_variable = {
                                                                which = "FUN_species_points"
                                                                value > 1
                                                            }
                                                        }
                                                        change_variable = {
                                                            which = "FUN_species_points"
                                                            value = -1
                                                        }
                                                        else = {
                                                            if = {
                                                                limit = {
                                                                    has_country_flag = "MOL_species_researched"
                                                                    check_variable = {
                                                                        which = "MOL_species_points"
                                                                        value > 1
                                                                    }
                                                                }
                                                                change_variable = {
                                                                    which = "MOL_species_points"
                                                                    value = -1
                                                                }
                                                                else = {
                                                                    if = {
                                                                        limit = {
                                                                            has_country_flag = "PLANT_species_researched"
                                                                            check_variable = {
                                                                                which = "PLANT_species_points"
                                                                                value > 1
                                                                            }
                                                                        }
                                                                        change_variable = {
                                                                            which = "PLANT_species_points"
                                                                            value = -1
                                                                        }
                                                                        else = {
                                                                            if = {
                                                                                limit = { check_variable = { which = "DEBT_species_points" value < 1 } }
                                                                                set_variable = { which = "DEBT_species_points" value = 1 }
                                                                                else = {
                                                                                    change_variable = { which = "DEBT_species_points" value = 1 }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

#####################################################
### Building "Institute of Synth Engineering" events
#####################################################

planet_event = {
    id = zog_building_events.62
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_building = "building_synth_engineering_institute"
        }
    }

    immediate = {
        owner = {
            random_list = {
                50 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ROBOT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ROBOT_species_points" value < 1 } }
                            set_variable = { which = "ROBOT_species_points" value = 1 }
                            else = { change_variable = { which = "ROBOT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MACHINE_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MACHINE_species_points" value < 1 } }
                            set_variable = { which = "MACHINE_species_points" value = 1 }
                            else = { change_variable = { which = "MACHINE_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
                50 = {
                    if = {
                        limit = { check_variable = { which = "DEBT_species_points" value > 0 } }
                        change_variable = { which = "DEBT_species_points" value = -1 }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "MACHINE_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "MACHINE_species_points" value < 1 } }
                            set_variable = { which = "MACHINE_species_points" value = 1 }
                            else = { change_variable = { which = "MACHINE_species_points" value = 1 } }
                        }
                        break = yes
                    }
                    if = {
                        limit = { has_country_flag = "ROBOT_species_researched" }
                        if = { 
                            limit = { check_variable = { which = "ROBOT_species_points" value < 1 } }
                            set_variable = { which = "ROBOT_species_points" value = 1 }
                            else = { change_variable = { which = "ROBOT_species_points" value = 1 } }
                        }
                        break = yes
                    }
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.63
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            has_prev_building = "building_synth_engineering_institute"
        }
    }

    immediate = {
        owner = {
            if = {
                limit = {
                    has_country_flag = "ROBOT_species_researched"
                    check_variable = {
                        which = "ROBOT_species_points"
                        value > 1
                    }
                }
                change_variable = {
                    which = "ROBOT_species_points"
                    value = -1
                }
                else = {
                    if = {
                        limit = {
                            has_country_flag = "MACHINE_species_researched"
                            check_variable = {
                                which = "MACHINE_species_points"
                                value > 1
                            }
                        }
                        change_variable = {
                            which = "MACHINE_species_points"
                            value = -1
                        }
                        else = {
                            if = {
                                limit = { check_variable = { which = "DEBT_species_points" value < 1 } }
                                set_variable = { which = "DEBT_species_points" value = 1 }
                                else = {
                                    change_variable = { which = "DEBT_species_points" value = 1 }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

##########################################
### Building "Atlantis City I-III" events
##########################################

planet_event = {
    id = zog_building_events.100
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            OR = {
                has_building = "building_atlantis_city_01"
                has_building = "building_atlantis_city_02"
                has_building = "building_atlantis_city_03"
            }
        }
    }

    immediate = {
        planet =  {
            if = {
                limit = {
                    check_variable = {
                        which = "atlantis_city_built"
                        value < 1
                    }
                }
                set_variable = {
                    which = "atlantis_city_built"
                    value = 1
                }
                else = {
                    change_variable = {
                        which = "atlantis_city_built"
                        value = 1
                    }
                }
            }
            if = {
                limit = {
                    has_planet_flag = "atlantis_city_queued"
                }
                remove_planet_flag = "atlantis_city_queued"
            }
        }
    }
}

planet_event = {
    id = zog_building_events.101
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            OR = {
                has_prev_building = "building_atlantis_city_01"
                has_prev_building = "building_atlantis_city_02"
                has_prev_building = "building_atlantis_city_03"
            }
        }
    }

    immediate = {
        planet = {
            if = {
                limit = {
                    check_variable = {
                        which = "atlantis_city_built"
                        value > 1
                    }
                }
                change_variable = {
                    which = "atlantis_city_built"
                    value = -1
                }
            }
        }
    }
}

planet_event = {
    id = zog_building_events.103
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            OR = {
                has_building = "building_atlantis_city_01"
                has_building = "building_atlantis_city_02"
                has_building = "building_atlantis_city_03"
            }
        }
    }

    immediate = {
        planet = {
            if = {
                limit = {
                    NOT = {
                        has_planet_flag = "atlantis_city_queued"
                    }
                }
                set_planet_flag = "atlantis_city_queued"
            }
        }
    }
}

planet_event = {
    id = zog_building_events.102
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        from = {
            OR = {
                has_prev_building = "building_atlantis_city_01"
                has_prev_building = "building_atlantis_city_02"
                has_prev_building = "building_atlantis_city_03"
            }
        }
    }

    immediate = {
        planet = {
            if = {
                limit = {
                    has_planet_flag = "atlantis_city_queued"
                }
                remove_planet_flag = "atlantis_city_queued"
            }
        }
    }
}