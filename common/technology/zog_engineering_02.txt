###########################
## Engineering / Boost
###########################

tech_engineering_theory = {
    cost = 5000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_engineering_theory"
    tier = 1

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {}

    prereqfor_desc = {
        feature = {
            title = tech_engineering_theory_prereqfor.title
            desc = tech_engineering_theory_prereqfor.desc
        }
    }

    modifier = {
        country_engineering_tech_research_speed = 0.05
        planet_building_cost_mult = -0.05
        building_time_mult = -0.05
    }

    weight = 100

    weight_modifier = {
        modifier = {
            factor = 0
            is_ai = yes
        }
        modifier = {
            factor = 0
            years_passed < 10
        }
    }

    ai_weight = {
        factor = 0
    }
}

tech_engineering_science = {
    cost = 10000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_engineering_science"
    tier = 1

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_engineering_theory"
    }

    prereqfor_desc = {
        feature = {
            title = tech_engineering_science_prereqfor.title
            desc = tech_engineering_science_prereqfor.desc
        }
    }

    modifier = {
        country_engineering_tech_research_speed = 0.10
        planet_building_cost_mult = -0.25
        building_time_mult = -0.25
    }

    weight = 80

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                has_tradition = "tr_expansion_adopt"
                has_tradition = "tr_domination_adopt"
            }
        }
    }

    ai_weight = {
        factor = 80
    }
}

tech_engineering_doctrine = {
    cost = 25000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_engineering_doctrine"
    tier = 1

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = no

    prerequisites = {
        "tech_engineering_science"
    }

    prereqfor_desc = {
        feature = {
            title = tech_engineering_doctrine_prereqfor.title
            desc = tech_engineering_doctrine_prereqfor.desc
        }
    }

    modifier = {
        country_engineering_tech_research_speed = 0.10
        planet_building_cost_mult = -0.50
        building_time_mult = -0.50
    }

    weight = 70

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                has_tradition = "tr_expansion_a_new_life"
                has_tradition = "tr_domination_star_lords"
            }
        }
    }

    ai_weight = {
        factor = 70
    }
}

tech_engineering_transcendence = {
    cost = 50000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_engineering_transcendence"
    tier = 1

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = yes

    prerequisites = {
        "tech_engineering_doctrine"
        "tech_mega_engineering"
    }

    prereqfor_desc = {
        feature = {
            title = tech_engineering_transcendence_prereqfor.title
            desc = tech_engineering_transcendence_prereqfor.desc
        }
    }

    modifier = {
        country_engineering_tech_research_speed = 0.25
        planet_building_cost_mult = -0.75
        building_time_mult = -0.75
        megastructure_build_speed_mult = 0.50
        mod_megastructure_build_cost_mult = -0.50
    }

    weight = 60

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                has_tradition = "tr_expansion_finish"
                has_tradition = "tr_domination_finish"
            }
        }
    }

    ai_weight = {
        factor = 60
    }
}

##########################################
## Engineering / Hydroponics Farm / Boost
##########################################

tech_hydroponics_theory = {
    cost = 1000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_hydroponics_theory"
    tier = 0

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_engineering_theory"
        "tech_eco_simulation"
    }

    prereqfor_desc = {
        feature = {
            title = tech_hydroponics_theory_prereqfor.title
            desc = tech_hydroponics_theory_prereqfor.desc
        }
    }

    modifier = {
        hydroponics_farm_build_cost_mult = -0.10
        building_hydroponics_farm_1_build_cost_mult = -0.50
    }

    weight = 100

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "hydroponics_farm_1_built"
                    value > 5
                }
                check_variable = {
                    which = "hydroponics_farm_2_built"
                    value > 4
                }
                check_variable = {
                    which = "hydroponics_farm_3_built"
                    value > 3
                }
                check_variable = {
                    which = "hydroponics_farm_4_built"
                    value > 2
                }
                check_variable = {
                    which = "hydroponics_farm_5_built"
                    value > 1
                }
            }
        }
    }

    ai_weight = {
        factor = 100
    }
}

tech_hydroponics_science = {
    cost = 2500
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_hydroponics_science"
    tier = 0

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_hydroponics_theory"
        "tech_hydroponics"
    }

    prereqfor_desc = {
        feature = {
            title = tech_hydroponics_science_prereqfor.title
            desc = tech_hydroponics_science_prereqfor.desc
        }
    }

    modifier = {
        hydroponics_farm_build_cost_mult = -0.10
        building_hydroponics_farm_2_build_cost_mult = -0.50
    }

    weight = 90

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "hydroponics_farm_1_built"
                    value > 10
                }
                check_variable = {
                    which = "hydroponics_farm_2_built"
                    value > 8
                }
                check_variable = {
                    which = "hydroponics_farm_3_built"
                    value > 6
                }
                check_variable = {
                    which = "hydroponics_farm_4_built"
                    value > 4
                }
                check_variable = {
                    which = "hydroponics_farm_5_built"
                    value > 2
                }
            }
        }
    }

    ai_weight = {
        factor = 90
    }
}

tech_hydroponics_doctrine = {
    cost = 5000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_hydroponics_doctrine"
    tier = 0

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_hydroponics_science"
        "tech_orbital_hydroponics"
        "tech_gene_crops"
    }

    prereqfor_desc = {
        feature = {
            title = tech_hydroponics_doctrine_prereqfor.title
            desc = tech_hydroponics_doctrine_prereqfor.desc
        }
    }

    modifier = {
        hydroponics_farm_build_cost_mult = -0.15
        building_hydroponics_farm_3_build_cost_mult = -0.50
    }

    weight = 80

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "hydroponics_module_built"
                    value > 0
                }
                check_variable = {
                    which = "hydroponics_farm_1_built"
                    value > 20
                }
                check_variable = {
                    which = "hydroponics_farm_2_built"
                    value > 16
                }
                check_variable = {
                    which = "hydroponics_farm_3_built"
                    value > 12
                }
                check_variable = {
                    which = "hydroponics_farm_4_built"
                    value > 8
                }
                check_variable = {
                    which = "hydroponics_farm_5_built"
                    value > 4
                }
            }
        }
    }

    ai_weight = {
        factor = 80
    }
}

tech_hydroponics_transcendence = {
    cost = 10000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_hydroponics_transcendence"
    tier = 1

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = no

    prerequisites = {
        "tech_hydroponics_doctrine"
        "tech_nano_vitality_crops"
    }

    prereqfor_desc = {
        feature = {
            title = tech_hydroponics_transcendence_prereqfor.title
            desc = tech_hydroponics_transcendence_prereqfor.desc
        }
    }

    modifier = {
        hydroponics_farm_build_cost_mult = -0.20
        building_hydroponics_farm_4_build_cost_mult = -0.50
    }

    weight = 70

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "hydroponics_module_built"
                    value > 4
                }
                check_variable = {
                    which = "hydroponics_farm_1_built"
                    value > 40
                }
                check_variable = {
                    which = "hydroponics_farm_2_built"
                    value > 32
                }
                check_variable = {
                    which = "hydroponics_farm_3_built"
                    value > 24
                }
                check_variable = {
                    which = "hydroponics_farm_4_built"
                    value > 16
                }
                check_variable = {
                    which = "hydroponics_farm_5_built"
                    value > 8
                }
            }
        }
    }

    ai_weight = {
        factor = 70
    }
}

tech_hydroponics_infinitum = {
    cost = 20000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_hydroponics_infinitum"
    tier = 4

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = yes

    prerequisites = {
        "tech_hydroponics_transcendence"
    }

    prereqfor_desc = {
        feature = {
            title = tech_hydroponics_infinitum_prereqfor.title
            desc = tech_hydroponics_infinitum_prereqfor.desc
        }
    }

    modifier = {
        hydroponics_farm_build_cost_mult = -0.25
        building_hydroponics_farm_5_build_cost_mult = -0.50
    }

    weight = 60

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "hydroponics_module_built"
                    value > 9
                }
                check_variable = {
                    which = "hydroponics_farm_1_built"
                    value > 80
                }
                check_variable = {
                    which = "hydroponics_farm_2_built"
                    value > 64
                }
                check_variable = {
                    which = "hydroponics_farm_3_built"
                    value > 48
                }
                check_variable = {
                    which = "hydroponics_farm_4_built"
                    value > 32
                }
                check_variable = {
                    which = "hydroponics_farm_5_built"
                    value > 16
                }
            }
        }
    }

    ai_weight = {
        factor = 60
    }
}

##########################################
## Engineering / Power Plant / Boost
##########################################

tech_electric_theory = {
    cost = 1000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_electric_theory"
    tier = 0

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_engineering_theory"
        "tech_power_plant_1"
    }

    prereqfor_desc = {
        feature = {
            title = tech_electric_theory_prereqfor.title
            desc = tech_electric_theory_prereqfor.desc
        }
    }

    modifier = {
        building_power_plant_1_build_cost_mult = -0.50
    }

    weight = 100

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "power_plant_1_built"
                    value > 5
                }
                check_variable = {
                    which = "power_plant_2_built"
                    value > 4
                }
                check_variable = {
                    which = "power_plant_3_built"
                    value > 3
                }
                check_variable = {
                    which = "power_plant_4_built"
                    value > 2
                }
                check_variable = {
                    which = "power_plant_5_built"
                    value > 1
                }
            }
        }
    }

    ai_weight = {
        factor = 100
    }
}

tech_electric_science = {
    cost = 2500
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_electric_science"
    tier = 0

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_electric_theory"
        "tech_power_plant_2"
    }

    prereqfor_desc = {
        feature = {
            title = tech_electric_science_prereqfor.title
            desc = tech_electric_science_prereqfor.desc
        }
    }

    modifier = {
        building_power_plant_2_build_cost_mult = -0.50
    }

    weight = 90

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "power_plant_1_built"
                    value > 10
                }
                check_variable = {
                    which = "power_plant_2_built"
                    value > 8
                }
                check_variable = {
                    which = "power_plant_3_built"
                    value > 6
                }
                check_variable = {
                    which = "power_plant_4_built"
                    value > 4
                }
                check_variable = {
                    which = "power_plant_5_built"
                    value > 2
                }
            }
        }
    }

    ai_weight = {
        factor = 90
    }
}

tech_electric_doctrine = {
    cost = 5000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_electric_doctrine"
    tier = 0

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_electric_science"
        "tech_solar_panel_network"
        "tech_power_plant_3"
    }

    prereqfor_desc = {
        feature = {
            title = tech_electric_doctrine_prereqfor.title
            desc = tech_electric_doctrine_prereqfor.desc
        }
    }

    modifier = {
        building_power_plant_3_build_cost_mult = -0.50
    }

    weight = 80

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "solar_panel_module_built"
                    value > 0
                }
                check_variable = {
                    which = "power_plant_1_built"
                    value > 20
                }
                check_variable = {
                    which = "power_plant_2_built"
                    value > 16
                }
                check_variable = {
                    which = "power_plant_3_built"
                    value > 12
                }
                check_variable = {
                    which = "power_plant_4_built"
                    value > 8
                }
                check_variable = {
                    which = "power_plant_5_built"
                    value > 4
                }
            }
        }
    }

    ai_weight = {
        factor = 80
    }
}

tech_electric_transcendence = {
    cost = 10000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_electric_transcendence"
    tier = 1

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = no

    prerequisites = {
        "tech_electric_doctrine"
        "tech_power_plant_4"
    }

    prereqfor_desc = {
        feature = {
            title = tech_electric_transcendence_prereqfor.title
            desc = tech_electric_transcendence_prereqfor.desc
        }
    }

    modifier = {
        building_power_plant_4_build_cost_mult = -0.50
    }

    weight = 70

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "solar_panel_module_built"
                    value > 4
                }
                check_variable = {
                    which = "power_plant_1_built"
                    value > 40
                }
                check_variable = {
                    which = "power_plant_2_built"
                    value > 32
                }
                check_variable = {
                    which = "power_plant_3_built"
                    value > 24
                }
                check_variable = {
                    which = "power_plant_4_built"
                    value > 16
                }
                check_variable = {
                    which = "power_plant_5_built"
                    value > 8
                }
            }
        }
    }

    ai_weight = {
        factor = 70
    }
}

tech_electric_infinitum = {
    cost = 20000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_electric_infinitum"
    tier = 4

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = yes

    prerequisites = {
        "tech_electric_transcendence"
    }

    prereqfor_desc = {
        feature = {
            title = tech_electric_infinitum_prereqfor.title
            desc = tech_electric_infinitum_prereqfor.desc
        }
    }

    modifier = {
        building_power_plant_5_build_cost_mult = -0.50
    }

    weight = 60

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "solar_panel_module_built"
                    value > 9
                }
                check_variable = {
                    which = "power_plant_1_built"
                    value > 80
                }
                check_variable = {
                    which = "power_plant_2_built"
                    value > 64
                }
                check_variable = {
                    which = "power_plant_3_built"
                    value > 48
                }
                check_variable = {
                    which = "power_plant_4_built"
                    value > 32
                }
                check_variable = {
                    which = "power_plant_5_built"
                    value > 16
                }
            }
        }
    }

    ai_weight = {
        factor = 60
    }
}

##########################################
## Engineering / Mining Network / Boost
##########################################

tech_mining_theory = {
    cost = 1000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_mining_theory"
    tier = 0

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_engineering_theory"
        "tech_basic_industry"
    }

    prereqfor_desc = {
        feature = {
            title = tech_mining_theory_prereqfor.title
            desc = tech_mining_theory_prereqfor.desc
        }
    }

    modifier = {
        building_mining_network_1_build_cost_mult = -0.50
    }

    weight = 100

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "mining_network_1_built"
                    value > 5
                }
                check_variable = {
                    which = "mining_network_2_built"
                    value > 4
                }
                check_variable = {
                    which = "mining_network_3_built"
                    value > 3
                }
                check_variable = {
                    which = "mining_network_4_built"
                    value > 2
                }
                check_variable = {
                    which = "mining_network_5_built"
                    value > 1
                }
            }
        }
    }

    ai_weight = {
        factor = 100
    }
}

tech_mining_science = {
    cost = 2500
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_mining_science"
    tier = 0

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_mining_theory"
        "tech_mining_network_2"
    }

    prereqfor_desc = {
        feature = {
            title = tech_mining_science_prereqfor.title
            desc = tech_mining_science_prereqfor.desc
        }
    }

    modifier = {
        building_mining_network_2_build_cost_mult = -0.50
    }

    weight = 90

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "mining_network_1_built"
                    value > 10
                }
                check_variable = {
                    which = "mining_network_2_built"
                    value > 8
                }
                check_variable = {
                    which = "mining_network_3_built"
                    value > 6
                }
                check_variable = {
                    which = "mining_network_4_built"
                    value > 4
                }
                check_variable = {
                    which = "mining_network_5_built"
                    value > 2
                }
            }
        }
    }

    ai_weight = {
        factor = 90
    }
}

tech_mining_doctrine = {
    cost = 5000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_mining_doctrine"
    tier = 0

    is_reverse_engineerable = no
    is_rare = no
    is_dangerous = no

    prerequisites = {
        "tech_mining_science"
        "tech_mining_network_3"
    }

    prereqfor_desc = {
        feature = {
            title = tech_mining_doctrine_prereqfor.title
            desc = tech_mining_doctrine_prereqfor.desc
        }
    }

    modifier = {
        building_mining_network_3_build_cost_mult = -0.50
    }

    weight = 80

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "mining_network_1_built"
                    value > 20
                }
                check_variable = {
                    which = "mining_network_2_built"
                    value > 16
                }
                check_variable = {
                    which = "mining_network_3_built"
                    value > 12
                }
                check_variable = {
                    which = "mining_network_4_built"
                    value > 8
                }
                check_variable = {
                    which = "mining_network_5_built"
                    value > 4
                }
            }
        }
    }

    ai_weight = {
        factor = 80
    }
}

tech_mining_transcendence = {
    cost = 10000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_mining_transcendence"
    tier = 1

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = no

    prerequisites = {
        "tech_mining_doctrine"
        "tech_mining_network_4"
    }

    prereqfor_desc = {
        feature = {
            title = tech_mining_transcendence_prereqfor.title
            desc = tech_mining_transcendence_prereqfor.desc
        }
    }

    modifier = {
        building_mining_network_4_build_cost_mult = -0.50
    }

    weight = 70

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "mining_network_1_built"
                    value > 40
                }
                check_variable = {
                    which = "mining_network_2_built"
                    value > 32
                }
                check_variable = {
                    which = "mining_network_3_built"
                    value > 24
                }
                check_variable = {
                    which = "mining_network_4_built"
                    value > 16
                }
                check_variable = {
                    which = "mining_network_5_built"
                    value > 8
                }
            }
        }
    }

    ai_weight = {
        factor = 70
    }
}

tech_mining_infinitum = {
    cost = 20000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_mining_infinitum"
    tier = 4

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = yes

    prerequisites = {
        "tech_mining_transcendence"
    }

    prereqfor_desc = {
        feature = {
            title = tech_mining_infinitum_prereqfor.title
            desc = tech_mining_infinitum_prereqfor.desc
        }
    }

    modifier = {
        building_mining_network_5_build_cost_mult = -0.50
    }

    weight = 60

    weight_modifier = {
        modifier = {
            factor = 0
            NOT = {
                check_variable = {
                    which = "mining_network_1_built"
                    value > 80
                }
                check_variable = {
                    which = "mining_network_2_built"
                    value > 64
                }
                check_variable = {
                    which = "mining_network_3_built"
                    value > 48
                }
                check_variable = {
                    which = "mining_network_4_built"
                    value > 32
                }
                check_variable = {
                    which = "mining_network_5_built"
                    value > 16
                }
            }
        }
    }

    ai_weight = {
        factor = 60
    }
}

tech_advanced_mineral_extraction = {
    cost = 25000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_advanced_mineral_extraction"
    tier = 1

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = yes

    prerequisites = {
        "tech_supreme_engineering"
        "tech_robotic_workers"
    }

    prereqfor_desc = {
        feature = {
            title = tech_advanced_mineral_extraction_prereqfor.title
            desc = tech_advanced_mineral_extraction_prereqfor.desc
        }
    }

    modifier = {
        tile_resource_minerals_mult = 1.0
    }

    weight = 60

    weight_modifier = {
        modifier = {
            factor = 0
            NAND = {
                has_government = "gov_megacorporation"
                has_government = "gov_trade_league"
            }
        }
        modifier = {
            factor = 0
            is_at_war = yes
        }
        modifier = {
            factor = 0.50
            recently_lost_war = yes
        }
        modifier = {
            factor = 1.25
            AND = {
                has_faction = "imperialist"
                has_monthly_income = {
                    resource = minerals
                    value < 50
                }
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 3
                }
            }
        }
        modifier = {
            factor = 1.35
            AND = {
                exists = ruler
                ruler = { leader_of_faction = "imperialist" }
                has_monthly_income = {
                    resource = minerals
                    value < 100
                }
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 3
                }
            }
        }
    }

    ai_weight = {
        factor = 60
    }
}

tech_supreme_mineral_extraction = {
    cost = 50000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_supreme_mineral_extraction"
    tier = 2

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = yes

    prerequisites = {
        "tech_advanced_mineral_extraction"
        "tech_droid_workers"
    }

    prereqfor_desc = {
        feature = {
            title = tech_supreme_mineral_extraction_prereqfor.title
            desc = tech_supreme_mineral_extraction_prereqfor.desc
        }
    }

    modifier = {
        tile_resource_minerals_mult = 1.0
    }

    weight = 55

    weight_modifier = {
        modifier = {
            factor = 0
            NAND = {
                has_government = "gov_megacorporation"
                has_government = "gov_trade_league"
                OR = {
                    has_ascension_perk = "ap_imperial_prerogative"
                    has_ascension_perk = "ap_master_builders"
                }
                OR = {
                    has_tradition = "tr_expansion_finish"
                    has_tradition = "tr_supremacy_finish"
                }
            }
        }
        modifier = {
            factor = 0
            OR = {
                is_at_war = yes
                recently_lost_war = yes
            }
        }
        modifier = {
            factor = 1.15
            AND = {
                has_faction = "imperialist"
                has_monthly_income = {
                    resource = minerals
                    value < 10
                }
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 4
                }
            }
        }
        modifier = {
            factor = 1.20
            AND = {
                exists = ruler
                ruler = { leader_of_faction = "imperialist" }
                has_monthly_income = {
                    resource = minerals
                    value < 25
                }
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 4
                }
            }
        }
    }

    ai_weight = {
        factor = 55
    }
}

tech_transcendental_mineral_extraction = {
    cost = 100000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_transcendental_mineral_extraction"
    tier = 4

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = yes

    prerequisites = {
        "tech_supreme_mineral_extraction"
        "tech_synthetic_workers"
    }

    prereqfor_desc = {
        feature = {
            title = tech_transcendental_mineral_extraction_prereqfor.title
            desc = tech_transcendental_mineral_extraction_prereqfor.desc
        }
    }

    modifier = {
        tile_resource_minerals_mult = 1.0
    }

    weight = 50

    weight_modifier = {
        modifier = {
            factor = 0
            NAND = {
                has_government = "gov_megacorporation"
                has_government = "gov_trade_league"
                AND = {
                    has_ascension_perk = "ap_imperial_prerogative"
                    has_ascension_perk = "ap_master_builders"
                }
                AND = {
                    has_tradition = "tr_expansion_finish"
                    has_tradition = "tr_supremacy_finish"
                }
            }
        }
        modifier = {
            factor = 0
            OR = {
                is_at_war = yes
                recently_lost_war = yes
            }
        }
        modifier = {
            factor = 1.25
            AND = {
                exists = ruler
                ruler = { leader_of_faction = "imperialist" }
                has_faction = "imperialist"
                has_monthly_income = {
                    resource = minerals
                    value < 0
                }
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 4
                }
            }
        }
    }

    ai_weight = {
        factor = 50
    }
}

tech_advanced_mineral_consumption = {
    cost = 20000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_advanced_mineral_consumption"
    tier = 1

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = yes

    prerequisites = {
        "tech_supreme_engineering"
        "tech_collective_self"
    }

    prereqfor_desc = {
        feature = {
            title = tech_advanced_mineral_consumption_prereqfor.title
            desc = tech_advanced_mineral_consumption_prereqfor.desc
        }
    }

    modifier = {
        pop_consumer_goods_add = 0.75
    }

    weight = 50

    weight_modifier = {
        modifier = {
            factor = 0
            NAND = {
                has_government = "gov_totalitarian_regime"
                has_government = "gov_executive_committee"
                has_ethic = "ethic_authoritarian"
                has_ethic = "ethic_fanatic_authoritarian"
            }
        }
        modifier = {
            factor = 1.25
            AND = {
                has_faction = "totalitarian"
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 3
                }
            }
        }
        modifier = {
            factor = 1.30
            AND = {
                exists = ruler
                ruler = { leader_of_faction = "totalitarian" }
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 3
                }
            }
        }
        modifier = {
            factor = 1.25
            AND = {
                recently_lost_war = yes
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 3
                }
            }
        }
        modifier = {
            factor = 1.35
            AND = {
                has_monthly_income = {
                    resource = minerals
                    value < 100
                }
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 3
                }
            }
        }
    }

    ai_weight = {
        factor = 50
    }
}

tech_supreme_mineral_consumption = {
    cost = 50000
    area = engineering
    start_tech = no
    category = { industry }
    icon = "tech_supreme_mineral_consumption"
    tier = 4

    is_reverse_engineerable = no
    is_rare = yes
    is_dangerous = yes

    prerequisites = {
        "tech_advanced_mineral_consumption"
    }

    prereqfor_desc = {
        feature = {
            title = tech_supreme_mineral_consumption_prereqfor.title
            desc = tech_supreme_mineral_consumption_prereqfor.desc
        }
    }

    modifier = {
        pop_consumer_goods_add = 0.50
    }

    weight = 50

    weight_modifier = {
        modifier = {
            factor = 0
            NAND = {
                has_government = "gov_totalitarian_regime"
                has_ethic = "ethic_fanatic_authoritarian"
            }
        }
        modifier = {
            factor = 1.20
            AND = {
                has_faction = "totalitarian"
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 4
                }
            }
        }
        modifier = {
            factor = 1.25
            AND = {
                exists = ruler
                ruler = { leader_of_faction = "totalitarian" }
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 4
                }
            }
        }
        modifier = {
            factor = 1.20
            AND = {
                recently_lost_war = yes
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 4
                }
            }
        }
        modifier = {
            factor = 1.30
            AND = {
                has_monthly_income = {
                    resource = minerals
                    value < 50
                }
                research_leader = {
                    area = engineering
                    has_trait = "leader_trait_expertise_industry"
                    has_level > 4
                }
            }
        }
    }

    ai_weight = {
        factor = 50
    }
}